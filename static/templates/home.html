{% extends "base.html" %}
{% load crispy_forms_tags %}
{% load staticfiles %}


{% block head_title %}Welcome | {{ block.super }}{% endblock %}

<style>
{% block style %}
.navbar-static-top {
	margin-bottom: 0px !important;
}

.jumbotron {
	background-color:#0E3D14;
	color: #FFF;
}

{% endblock %}
</style>


     
{% block jumbotron %}
 {% if not request.user.is_authenticated %}

<div class="jumbotron">
 <div class="container">
	<div class="row">
		<div class='col-sm-6'>
		<h1>Toss a Word</h1>
		<p>The Toss a Word project is designed to get your curiosity about a word satisfied. The goal is to show you wheather sentiment of latest tweets containing your word is pozitive or not. Join Us today.</p>
		<p>
		<a class="btn btn-lg btn-primary" href="{% url 'registration_register' %}" role="button">Join Us &raquo;</a>
		</p>
		</div>
		
		<div class='col-sm-6' >
			<iframe width="560" height="315" src="https://www.youtube.com/embed/xsz62kEDuM8" frameborder="0" allowfullscreen></iframe>

 		</div>
 		
		</div>
	</div>
 </div>
 {% endif %}
{% endblock %}




{% block content %}
 {% if request.user.is_authenticated %}
 <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<h1>You are logged in, Let's get tweet scores!</h1>

<input type="text" id="search_box" />
<button id="btn_search" class='btn btn-default'>Toss</button>

<div style="margin-left:20px">
    <table id="jqGrid"></table>
    <div id="jqGridPager"></div>
</div>

<script type="text/javascript">
$(document).ready(function() {
    bind()
})
function bind() {
    $("#btn_search").click(function(){
        var keyword = $("#search_box").val()
        show_list(keyword)
    })
}
function show_list(keyword) {
        $('#jqGrid').trigger( 'reloadGrid' );
        
        $("#jqGrid").jqGrid({
        url: "/search/?q=" + keyword,
        datatype: "json",
         colModel: [
            { label: 'Tweet', name: 'name', width: 200 },
            { label: 'Score', name: 'score', width: 100, sorttype: 'integer' }                
        ],
        viewrecords: true, // show the current page, data rang and total records on the toolbar
        width: 1080,
        height: 400,
        rowNum: 30,
        loadonce: true, // this is just for the demo
        pager: "#jqGridPager"
    });

}
function render_list(data) {
    var template = "<li></li>";
    var container = $("#result");
    container.html("")
    for (var i = data.length - 1; i >= 0; i--) {
        var food = data[i];
        var template = "<li>" + food.name +  "|| Score:" + food.score + "</li>";
        container.append(template);
    };
}
</script>


 {% else %}
<div class="row">


<div class='col-sm-3'>
<p class='lead text-align-center'>Project GitHub Gate <br/><br/>
<a href="https://github.com/kahyabatuhan/swe-573">
<span class="fa-stack fa-lg fa-5x">
<i class="fa fa-circle-o-notch fa-stack-2x" ></i>
  <!-- <i class="fa fa-square-o fa-stack-2x"></i> -->
  <i class="fa fa-github fa-stack-1x" ></i>
</span>
</a>
</p>
</div>

<div class='col-sm-3'>
<p class='lead text-align-center'>Ideas Appreciated
<br/>
<a href="{% url 'contact' %}">
<span class='fa-stack fa-lg fa-5x'>
<i class='fa fa-comment-o fa-stack-2x'></i>
<i style='color:yellow;' class="fa fa-bolt fa-stack-1x"></i>
</span>
</a>
</p>
</div>

<div class='col-sm-3'>
<p class='lead text-align-center'>Go &amp; Tweet</p>
<a href="https://twitter.com/?lang=en">
<img src='{% static "img/tweeter.png" %}' class='img-responsive' />
</a>
</div>

<div class='col-sm-3'>
<p class='lead text-align-center'>Under Construction</p>
<a href="{% url 'contact' %}">
<img src='{% static "img/underconstruction.jpg" %}' class='img-responsive' />
</a>
</div>


</div>
{% endif %}

{% endblock %}



